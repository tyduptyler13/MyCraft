var Stats=function(){var c=(self.performance&&self.performance.now)?self.performance.now.bind(performance):Date.now;var n=c(),f=n;var j=0,l=0;function o(C,F,E){var D=document.createElement(C);D.id=F;D.style.cssText=E;return D}function w(I,C,E){var H=o("div",I,"padding:0 0 3px 3px;text-align:left;background:"+E);var G=o("div",I+"Text","font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px;color:"+C);G.innerHTML=I.toUpperCase();H.appendChild(G);var F=o("div",I+"Graph","width:74px;height:30px;background:"+C);H.appendChild(F);for(var D=0;D<74;D++){F.appendChild(o("span","","width:1px;height:30px;float:left;opacity:0.9;background:"+E))}return H}function u(E){var D=k.children;for(var C=0;C<D.length;C++){D[C].style.display=C===E?"block":"none"}l=E}function B(D,C){var E=D.appendChild(D.firstChild);E.style.height=Math.min(30,30-C*30)+"px"}var k=o("div","stats","width:80px;opacity:0.9;cursor:pointer");k.addEventListener("mousedown",function(C){C.preventDefault();u(++l%k.children.length)},false);var b=0,q=Infinity,t=0;var m=w("fps","#0ff","#002");var x=m.children[0];var r=m.children[1];k.appendChild(m);var p=0,h=Infinity,i=0;var e=w("ms","#0f0","#020");var a=e.children[0];var z=e.children[1];k.appendChild(e);if(self.performance&&self.performance.memory){var g=0,y=Infinity,A=0;var s=w("mb","#f08","#201");var v=s.children[0];var d=s.children[1];k.appendChild(s)}u(l);return{REVISION:14,domElement:k,setMode:u,begin:function(){n=c()},end:function(){var D=c();p=D-n;h=Math.min(h,p);i=Math.max(i,p);a.textContent=(p|0)+" MS ("+(h|0)+"-"+(i|0)+")";B(z,p/200);j++;if(D>f+1000){b=Math.round((j*1000)/(D-f));q=Math.min(q,b);t=Math.max(t,b);x.textContent=b+" FPS ("+q+"-"+t+")";B(r,b/100);f=D;j=0;if(g!==undefined){var E=performance.memory.usedJSHeapSize;var C=performance.memory.jsHeapSizeLimit;g=Math.round(E*9.54e-7);y=Math.min(y,g);A=Math.max(A,g);v.textContent=g+" MB ("+y+"-"+A+")";B(d,E/C)}}return D},update:function(){n=this.end()}}};if(typeof module==="object"){module.exports=Stats};